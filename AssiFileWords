import java.util.*;
import java.util.Scanner;

public class AssiFileWords 
{
	public static void WordOccurence(String filename)
	{
		ArrayList<String> words = new ArrayList();
		
		AssiFileManager fm 	= new AssiFileManager(filename);
		fm.connectToFile();
    	words = fm.readFile();
    	fm.closeReadFile();
    	HashMap<String, Integer> wordsCnt = new HashMap<String, Integer>();
    	
    	for(int i=0;i<words.size();i++)
    	{
    		String curWord = words.get(i);
    		if(wordsCnt.containsKey(curWord))
    		{
    			wordsCnt.put(curWord,wordsCnt.get(curWord) + 1);
    		}
    		else
    		{
    			wordsCnt.put(curWord, 1);
    		}
    	}

    	Set<Map.Entry<String, Integer>> wordsSet = wordsCnt.entrySet();
    	
    	Comparator<Map.Entry<String, Integer>> occurenceComparator = new Comparator<Map.Entry<String,Integer>>() 
    	{ 
    		public int compare(Map.Entry<String, Integer> occurence1, Map.Entry<String, Integer> occurence2) 
    		{ 
    			Integer comp1 = occurence1.getValue();
    			Integer comp2 = occurence2.getValue(); 
    			return (comp2).compareTo(comp1); 
    		} 
    	};
    	
        List<Map.Entry<String, Integer>> MapList = new ArrayList<Map.Entry<String, Integer>>(wordsSet);
        Collections.sort(MapList, occurenceComparator);
        LinkedHashMap<String, Integer> sortedMap = new LinkedHashMap<String, Integer>(MapList.size());

        for(Map.Entry<String, Integer> entry : MapList)
        { 
        	sortedMap.put(entry.getKey(), entry.getValue()); 
        }

        System.out.println("Best guesses for topic of file: ");
        int i=0;
        for (Map.Entry<String, Integer> entry : sortedMap.entrySet())
    	{
        	if(i<10)
        	{
        		System.out.println(entry.getKey() + "  (" + entry.getValue() + " uses)");
        		i++;
        	}
        	else break;
    	}
    }
	
}

